# Apache Access Log Analyzer

> é«˜æ•ˆèƒ½ Apache å­˜å–æ—¥èªŒåˆ†æå·¥å…· - ä½¿ç”¨ Go + Wails æ‰“é€ çš„è·¨å¹³å°æ¡Œé¢æ‡‰ç”¨ç¨‹å¼

[![Go Version](https://img.shields.io/badge/Go-1.24+-00ADD8?style=flat&logo=go)](https://golang.org/)
[![Wails Version](https://img.shields.io/badge/Wails-v2.10+-DF0000?style=flat&logo=wails)](https://wails.io/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ“Š æ ¸å¿ƒåŠŸèƒ½

- **é«˜æ•ˆèƒ½è§£æ**: æ”¯æ´ Apache Combined å’Œ Common Log Format
  - è§£æé€Ÿåº¦: **134.87 MB/ç§’**ï¼ˆè¶…è¶Šç›®æ¨™ 60 MB/ç§’ï¼‰
  - 100MB æª”æ¡ˆè§£ææ™‚é–“: **1.43 ç§’**
  - ä¸¦ç™¼è™•ç†ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸å¿ƒ CPU

- **æ™ºæ…§çµ±è¨ˆåˆ†æ**
  - Top 10 IP ä½å€çµ±è¨ˆï¼ˆè«‹æ±‚æ•¸ã€æµé‡ã€éŒ¯èª¤ç‡ï¼‰
  - Top 10 è«‹æ±‚è·¯å¾‘çµ±è¨ˆï¼ˆè«‹æ±‚æ•¸ã€å¹³å‡å¤§å°ã€éŒ¯èª¤ç‡ï¼‰
  - ç‹€æ…‹ç¢¼åˆ†å¸ƒåˆ†æï¼ˆ2xx/3xx/4xx/5xxï¼‰
  - æ©Ÿå™¨äººæµé‡åµæ¸¬ï¼ˆè‡ªå‹•è­˜åˆ¥çˆ¬èŸ²å’Œæ©Ÿå™¨äººï¼‰

- **è™›æ“¬åŒ–è¡¨æ ¼é¡¯ç¤º**
  - æ”¯æ´ç™¾è¬ç´šè¨˜éŒ„æµæš¢æ²å‹•
  - å³æ™‚æœå°‹å’Œå¤šæ¢ä»¶ç¯©é¸
  - å¤šæª”æ¡ˆåˆ†é ç®¡ç†

- **Excel åŒ¯å‡º**
  - ä¸€éµåŒ¯å‡ºåˆ†æçµæœç‚º XLSX æ ¼å¼
  - åŒ…å«æ—¥èªŒæ¢ç›®ã€çµ±è¨ˆè³‡æ–™ã€æ©Ÿå™¨äººåµæ¸¬ä¸‰å€‹å·¥ä½œè¡¨
  - æ”¯æ´ Microsoft Excel å’Œ Google Sheets

- **ç¹é«”ä¸­æ–‡ä»‹é¢**
  - å®Œæ•´çš„ç¹é«”ä¸­æ–‡ä½¿ç”¨è€…ä»‹é¢
  - æ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯å’Œæç¤º

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç³»çµ±éœ€æ±‚

- **ä½œæ¥­ç³»çµ±**: Windows 10/11, macOS 10.15+, Linux
- **Windows**: éœ€è¦ WebView2 Runtimeï¼ˆWindows 11 å…§å»ºï¼‰
- **è¨˜æ†¶é«”**: å»ºè­° 4GB ä»¥ä¸Šï¼ˆè™•ç†å¤§æª”æ¡ˆæ™‚ï¼‰

### å®‰è£

#### Windows

1. ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬çš„ `apache-log-analyzer-windows-amd64.exe`
2. åŸ·è¡Œå®‰è£ç¨‹å¼
3. é¦–æ¬¡åŸ·è¡Œæ™‚ï¼Œå¦‚æœç¼ºå°‘ WebView2ï¼Œç³»çµ±æœƒè‡ªå‹•å¼•å°å®‰è£

#### macOS

1. ä¸‹è¼‰ `apache-log-analyzer-darwin-amd64.dmg`
2. é–‹å•Ÿ DMG æª”æ¡ˆï¼Œå°‡æ‡‰ç”¨ç¨‹å¼æ‹–æ›³åˆ°ã€Œæ‡‰ç”¨ç¨‹å¼ã€è³‡æ–™å¤¾
3. é¦–æ¬¡åŸ·è¡Œæ™‚ï¼Œåœ¨ã€Œç³»çµ±åå¥½è¨­å®š > å®‰å…¨æ€§èˆ‡éš±ç§æ¬Šã€ä¸­å…è¨±åŸ·è¡Œ

#### Linux

1. ä¸‹è¼‰ `apache-log-analyzer-linux-amd64.AppImage`
2. è³¦äºˆåŸ·è¡Œæ¬Šé™ï¼š`chmod +x apache-log-analyzer-linux-amd64.AppImage`
3. åŸ·è¡Œï¼š`./apache-log-analyzer-linux-amd64.AppImage`

### ä½¿ç”¨æ–¹å¼

1. **è¼‰å…¥æ—¥èªŒæª”æ¡ˆ**
   - é»æ“Šã€Œé–‹å•Ÿæª”æ¡ˆã€æŒ‰éˆ•
   - é¸æ“‡ Apache access log æª”æ¡ˆï¼ˆæ”¯æ´æœ€å¤§ 10GBï¼‰
   - ç³»çµ±è‡ªå‹•è§£æä¸¦åœ¨è¡¨æ ¼ä¸­é¡¯ç¤º

2. **æª¢è¦–çµ±è¨ˆåˆ†æ**
   - é»æ“Šã€Œå„€è¡¨æ¿ã€åˆ†é 
   - æŸ¥çœ‹ Top 10 IPã€Top 10 è·¯å¾‘ã€ç‹€æ…‹ç¢¼åˆ†å¸ƒã€æ©Ÿå™¨äººæµé‡ç­‰çµ±è¨ˆè³‡è¨Š

3. **æœå°‹å’Œç¯©é¸**
   - ä½¿ç”¨æœå°‹æ¡†è¼¸å…¥ IPã€è·¯å¾‘æˆ–é—œéµå­—
   - ä½¿ç”¨ç¯©é¸å™¨é¸æ“‡ç‹€æ…‹ç¢¼ç¯„åœæˆ–æ™‚é–“å€é–“
   - è¡¨æ ¼å³æ™‚æ›´æ–°ç¬¦åˆæ¢ä»¶çš„è¨˜éŒ„

4. **åŒ¯å‡ºçµæœ**
   - é»æ“Šã€ŒåŒ¯å‡º Excelã€æŒ‰éˆ•
   - é¸æ“‡å„²å­˜ä½ç½®
   - ç³»çµ±ç”ŸæˆåŒ…å«å®Œæ•´åˆ†æçµæœçš„ XLSX æª”æ¡ˆ

## ğŸ› ï¸ é–‹ç™¼è€…æŒ‡å—

### å‰ç½®éœ€æ±‚

- Go 1.24+
- Node.js 18+
- Wails CLI: `go install github.com/wailsapp/wails/v2/cmd/wails@latest`

### å¾åŸå§‹ç¢¼å»ºç½®

```bash
# å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/yourusername/access-log-analyzer.git
cd access-log-analyzer

# å®‰è£ä¾è³´
go mod download
cd frontend && npm install && cd ..

# é–‹ç™¼æ¨¡å¼ï¼ˆç†±é‡è¼‰ï¼‰
wails dev

# å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
wails build

# å»ºç½®ä¸¦å£“ç¸®ï¼ˆä½¿ç”¨ UPXï¼‰
wails build -clean -upx

# å»ºç½® Windows å®‰è£ç¨‹å¼
wails build -nsis
```

### å°ˆæ¡ˆçµæ§‹

```
access-log-analyzer/
â”œâ”€â”€ cmd/                    # æ‡‰ç”¨ç¨‹å¼å…¥å£
â”‚   â””â”€â”€ apache-log-analyzer/
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ internal/               # ç§æœ‰å¥—ä»¶
â”‚   â”œâ”€â”€ app/               # Wails æ‡‰ç”¨ç¨‹å¼é‚è¼¯
â”‚   â”œâ”€â”€ parser/            # æ—¥èªŒè§£æå™¨
â”‚   â”œâ”€â”€ stats/             # çµ±è¨ˆåˆ†æå¼•æ“
â”‚   â”œâ”€â”€ exporter/          # Excel åŒ¯å‡ºå™¨
â”‚   â”œâ”€â”€ models/            # è³‡æ–™æ¨¡å‹
â”‚   â””â”€â”€ monitoring/        # æ•ˆèƒ½ç›£æ§
â”œâ”€â”€ pkg/                   # å…¬é–‹å¥—ä»¶
â”‚   â”œâ”€â”€ logger/            # æ—¥èªŒè¨˜éŒ„å™¨
â”‚   â””â”€â”€ apachelog/         # Apache æ—¥èªŒè®€å–å™¨
â”œâ”€â”€ frontend/              # React + TypeScript å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/   # UI çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/     # API æœå‹™å±¤
â”‚   â”‚   â””â”€â”€ types/        # TypeScript å‹åˆ¥å®šç¾©
â”‚   â””â”€â”€ dist/             # å»ºç½®è¼¸å‡º
â”œâ”€â”€ docs/                  # æ–‡æª”
â”œâ”€â”€ scripts/               # å»ºç½®å’Œå·¥å…·è…³æœ¬
â””â”€â”€ testdata/              # æ¸¬è©¦è³‡æ–™
```

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
go test ./...

# åŸ·è¡Œæ¸¬è©¦ä¸¦é¡¯ç¤ºè¦†è“‹ç‡
go test -cover ./...

# åŸ·è¡ŒåŸºæº–æ¸¬è©¦
go test -bench=. -benchmem ./internal/parser
go test -bench=. -benchmem ./internal/stats
go test -bench=. -benchmem ./internal/exporter

# ç”Ÿæˆè¦†è“‹ç‡å ±å‘Š
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out
```

### æ•ˆèƒ½åˆ†æ

```bash
# CPU æ•ˆèƒ½åˆ†æ
go test -cpuprofile=cpu.prof -bench=. ./internal/parser
go tool pprof cpu.prof

# è¨˜æ†¶é«”æ•ˆèƒ½åˆ†æ
go test -memprofile=mem.prof -bench=. ./internal/parser
go tool pprof mem.prof
```

## ğŸ“ˆ æ•ˆèƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™ | å¯¦éš› | ç‹€æ…‹ |
|------|------|------|------|
| è§£æååé‡ | 60-80 MB/ç§’ | 134.87 MB/ç§’ | âœ… è¶…æ¨™ |
| 100MB è§£ææ™‚é–“ | â‰¤2 ç§’ | 1.43 ç§’ | âœ… é”æ¨™ |
| çµ±è¨ˆè¨ˆç®—ï¼ˆ10K è¨˜éŒ„ï¼‰ | <100ms | 6ms | âœ… è¶…æ¨™ |
| GUI å•Ÿå‹•æ™‚é–“ | â‰¤2 ç§’ | - | â³ å¾…æ¸¬ |
| è¡¨æ ¼æ²å‹•å»¶é² | â‰¤100ms | - | â³ å¾…æ¸¬ |

## ğŸ§ª æ¸¬è©¦è¦†è“‹ç‡

- **ç›®æ¨™è¦†è“‹ç‡**: 80%+
- **ç•¶å‰è¦†è“‹ç‡**: å¾…æ¸¬é‡
- **æ¸¬è©¦é¡å‹**: å–®å…ƒæ¸¬è©¦ã€æ•´åˆæ¸¬è©¦ã€åŸºæº–æ¸¬è©¦ã€æ•ˆèƒ½æ¸¬è©¦

## ğŸ“š æ–‡æª”

- [æ¶æ§‹æ–‡æª”](docs/architecture.md) - ç³»çµ±æ¶æ§‹å’Œæ¨¡çµ„äº’å‹•
- [ä½¿ç”¨æ‰‹å†Š](docs/user-guide.md) - è©³ç´°ä½¿ç”¨èªªæ˜ï¼ˆç¹é«”ä¸­æ–‡ï¼‰
- [é–‹ç™¼è€…æŒ‡å—](docs/developer-guide.md) - API æ–‡æª”å’Œé–‹ç™¼æŒ‡å—
- [åŒ¯å‡ºæŒ‡å—](docs/export-guide.md) - Excel åŒ¯å‡ºæ ¼å¼èªªæ˜

## ğŸ”’ å®‰å…¨æ€§

- âœ… è·¯å¾‘éæ­·æ”»æ“Šé˜²è­·
- âœ… æª”æ¡ˆå¤§å°é™åˆ¶æª¢æŸ¥ï¼ˆ10GB ä¸Šé™ï¼‰
- âœ… è¼¸å…¥é©—è­‰å’Œæ¸…ç†
- âœ… éŒ¯èª¤è¨Šæ¯æ•æ„Ÿè³‡è¨Šéæ¿¾
- âœ… æ‡‰ç”¨ç¨‹å¼å´©æ½°æ¢å¾©æ©Ÿåˆ¶
